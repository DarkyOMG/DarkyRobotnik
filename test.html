<!doctype html>
<html>

<head>
   <title>Our Funky HTML Page</title>
   <meta name="description" content="Our first page">
   <meta name="keywords" content="html tutorial template">

</head>

<body>
   <figure>
      <figcaption>Listen to the T-Rex:</figcaption>
      <audio controls src="Amerikaner die kÃ¤mpfen wie Weiber.wav">
         Your browser does not support the
         <code>audio</code> element.
      </audio>
   </figure>

</body>
<script type="text/javascript">
   const elem = document.querySelector("audio");
   WebSocketTest()
   function WebSocketTest() {
      console.log("Testing");
      if ("WebSocket" in window) {
         alert("WebSocket is supported by your Browser!");

         // Let us open a web socket
         var ws = new WebSocket("wss://muskatnuss.duckdns.org");

         ws.onopen = function () {

            console.log("Connected to server!")
            alert("Connection is open!")
         };

         ws.onmessage = function (evt) {
            var received_msg = evt.data;
            console.log(received_msg);
            elem.src = received_msg;
            elem.play()
         };


         ws.onclose = function () {

            // websocket is closed.
            alert("Connection is closed!");
         };
      } else {

         // The browser doesn't support WebSocket
         alert("WebSocket NOT supported by your Browser!");
      }
   }
</script>

</html>